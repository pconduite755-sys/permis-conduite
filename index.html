<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Formulaire d'inscription</title>
<style>
body {font-family: Arial,sans-serif;background:#f5f5f5;margin:0;padding:0;}
.container {max-width:720px;margin:20px auto;background:#fff;padding:25px;border-radius:12px;box-shadow:0 5px 15px rgba(0,0,0,0.1);} 
h1{text-align:center;color:#222;margin-bottom:10px;} 
p{font-size:14px;color:#555;margin-bottom:15px;text-align:center;} 
label{display:block;margin-top:15px;font-weight:bold;color:#333;} 
input, select, textarea{width:100%;padding:12px;margin-top:5px;border-radius:6px;border:1px solid #ccc;box-sizing:border-box;font-size:14px;} 
textarea{resize:vertical;} 
.btn{margin-top:20px;width:100%;padding:14px;background:#0a7a3d;color:#fff;border:none;border-radius:6px;font-size:16px;cursor:pointer;} 
.btn:hover{background:#075c2f;} 
.note{margin-top:20px;font-size:13px;color:#777;text-align:center;} 
.signature{border:1px solid #ccc;border-radius:6px;height:120px;margin-top:10px;} 
.lang{text-align:center;margin-bottom:15px;}
.lang button{margin:5px;padding:6px 12px;cursor:pointer;}
.confidential-container {display:flex; align-items:center; gap:10px; margin-top:10px; flex-wrap: wrap;}
.conf-text {font-size:13px; color:#555;}
.trust-text {font-size:13px; color:#555;}
</style>
</head>
<body>

<div class="container">
<div class="lang">
  <button onclick="setLang('fr')">üá´üá∑ Fran√ßais</button>
  <button onclick="setLang('en')">üá¨üáß English</button>
  <button onclick="setLang('pl')">üáµüá± Polski</button>
</div>

<h1 id="title"></h1>
<p id="desc"></p>

<form id="form">
<label id="l_dossier"></label>
<input id="dossier" readonly>

<label id="l_nom"></label>
<input id="nom" required>

<label id="l_prenom"></label>
<input id="prenom" required>

<label id="l_naissance"></label>
<input id="naissance" type="date" required>

<label id="l_lieu"></label>
<input id="lieu" required>

<label id="l_sexe"></label>
<select id="sexe" required>
  <option value=""></option>
  <option id="opt_m"></option>
  <option id="opt_f"></option>
</select>

<label id="l_nat"></label>
<input id="nationalite" required>

<label id="l_adresse"></label>
<textarea id="adresse" rows="2" required></textarea>

<label id="l_tel"></label>
<input id="telephone" required>

<label id="l_permis"></label>
<select id="permis" required>
  <option value=""></option>
  <option id="pA"></option>
  <option id="pB"></option>
  <option id="pC"></option>
  <option id="pD"></option>
</select>

<label id="l_piece"></label>
<input id="piece" required>

<label id="l_photo"></label>
<input type="file" accept="image/*" required>

<label id="l_cni"></label>
<input type="file" accept="image/*,.pdf" required>

<label id="l_sign"></label>
<canvas id="signature" class="signature"></canvas>
<button type="button" onclick="clearSign()" id="btn_clear"></button>

<div class="confidential-container">
  <input type="checkbox" id="confidential" required>
  <span class="conf-text" id="conf_text"></span>
  <span class="trust-text" id="trust_message"></span>
</div>

<label id="l_whatsapp"></label>
<input id="whatsapp">

<button class="btn" type="submit" id="btn_submit"></button>
</form>

<p class="note" id="note"></p>

</div>

<script>
// Num√©ro dossier
dossier.value = 'PC-' + Date.now();

// Signature
const canvas = document.getElementById('signature');
const ctx = canvas.getContext('2d');
let drawing=false;
canvas.width=canvas.offsetWidth;
canvas.height=canvas.offsetHeight;
canvas.onmousedown=e=>{drawing=true;ctx.moveTo(e.offsetX,e.offsetY)};
canvas.onmousemove=e=>{if(drawing){ctx.lineTo(e.offsetX,e.offsetY);ctx.stroke()}};
canvas.onmouseup=()=>drawing=false;
function clearSign(){ctx.clearRect(0,0,canvas.width,canvas.height)}

// Textes multilingues
const T={
fr:{title:"Formulaire d'inscription",desc:"Veuillez remplir soigneusement vos informations.",dossier:"Num√©ro de dossier",nom:"Nom",prenom:"Pr√©nom(s)",naissance:"Date de naissance",lieu:"Lieu de naissance",sexe:"Sexe",m:"Masculin",f:"F√©minin",nat:"Nationalit√©",adresse:"Adresse compl√®te",tel:"T√©l√©phone",permis:"Type de permis",A:"Permis A (Moto)",B:"Permis B (Voiture)",C:"Permis C (Poids lourd)",D:"Permis D (Transport)",piece:"Num√©ro de pi√®ce d'identit√©",photo:"Photo d'identit√©",cni:"Scan CNI / Passeport",sign:"Signature du client",clear:"Effacer la signature",wa:"Contact WhatsApp (facultatif)",send:"Envoyer le dossier",note:"üîí Informations strictement confidentielles.",conf:"Je confirme que les informations fournies sont exactes.",trust:"Vos informations sont prot√©g√©es et utilis√©es uniquement pour constituer votre permis. Vous pouvez nous faire enti√®rement confiance."},
en:{title:"Registration Form",desc:"Please carefully fill in your information.",dossier:"File number",nom:"Last name",prenom:"First name(s)",naissance:"Date of birth",lieu:"Place of birth",sexe:"Gender",m:"Male",f:"Female",nat:"Nationality",adresse:"Full address",tel:"Phone",permis:"License type",A:"License A (Motorcycle)",B:"License B (Car)",C:"License C (Truck)",D:"License D (Transport)",piece:"ID document number",photo:"ID photo",cni:"ID / Passport scan",sign:"Client signature",clear:"Clear signature",wa:"WhatsApp contact (optional)",send:"Submit application",note:"üîí Confidential information.",conf:"I confirm that the information provided is accurate.",trust:"Your information is protected and used only to process your license. You can trust us completely."},
pl:{title:"Formularz rejestracyjny",desc:"Prosimy o dok≈Çadne wype≈Çnienie swoich danych.",dossier:"Numer sprawy",nom:"Nazwisko",prenom:"Imiƒô / Imiona",naissance:"Data urodzenia",lieu:"Miejsce urodzenia",sexe:"P≈Çeƒá",m:"Mƒô≈ºczyzna",f:"Kobieta",nat:"Obywatelstwo",adresse:"Adres zamieszkania",tel:"Telefon",permis:"Rodzaj prawa jazdy",A:"Prawo jazdy A (Motocykl)",B:"Prawo jazdy B (Samoch√≥d)",C:"Prawo jazdy C (Ciƒô≈ºarowe)",D:"Prawo jazdy D (Transport)",piece:"Numer dokumentu to≈ºsamo≈õci",photo:"Zdjƒôcie do dokumentu",cni:"Skan dowodu / paszportu",sign:"Podpis klienta",clear:"Wyczy≈õƒá podpis",wa:"Kontakt WhatsApp (opcjonalnie)",send:"Wy≈õlij wniosek",note:"üîí Dane poufne.",conf:"Potwierdzam, ≈ºe podane informacje sƒÖ prawdziwe.",trust:"Twoje informacje sƒÖ chronione i u≈ºywane wy≈ÇƒÖcznie do przygotowania prawa jazdy. Mo≈ºesz nam ca≈Çkowicie zaufaƒá."}
};

function setLang(l){
 document.documentElement.lang=l;
 title.innerText=T[l].title;
 desc.innerText=T[l].desc;
 l_dossier.innerText=T[l].dossier;
 l_nom.innerText=T[l].nom;
 l_prenom.innerText=T[l].prenom;
 l_naissance.innerText=T[l].naissance;
 l_lieu.innerText=T[l].lieu;
 l_sexe.innerText=T[l].sexe;
 opt_m.innerText=T[l].m;
 opt_f.innerText=T[l].f;
 l_nat.innerText=T[l].nat;
 l_adresse.innerText=T[l].adresse;
 l_tel.innerText=T[l].tel;
 l_permis.innerText=T[l].permis;
 pA.innerText=T[l].A;
 pB.innerText=T[l].B;
 pC.innerText=T[l].C;
 pD.innerText=T[l].D;
 l_piece.innerText=T[l].piece;
 l_photo.innerText=T[l].photo;
 l_cni.innerText=T[l].cni;
 l_sign.innerText=T[l].sign;
 btn_clear.innerText=T[l].clear;
 l_whatsapp.innerText=T[l].wa;
 btn_submit.innerText=T[l].send;
 note.innerText=T[l].note;
 conf_text.innerText=T[l].conf;
 trust_message.innerText=T[l].trust;
}

setLang('fr');

// Envoi
form.addEventListener('submit',function(e){
 e.preventDefault();
 if(!confidential.checked){alert('Veuillez confirmer la confidentialit√©.'); return;}
 const msg=`üìÑ ${title.innerText}\n\n${l_dossier.innerText}: ${dossier.value}\n${l_nom.innerText}: ${nom.value}\n${l_prenom.innerText}: ${prenom.value}\n${l_naissance.innerText}: ${naissance.value}\n${l_lieu.innerText}: ${lieu.value}\n${l_sexe.innerText}: ${sexe.value}\n${l_nat.innerText}: ${nationalite.value}\n${l_adresse.innerText}: ${adresse.value}\n${l_tel.innerText}: ${telephone.value}\n${l_permis.innerText}: ${permis.value}\n${l_piece.innerText}: ${piece.value}`;
 const wa='https://wa.me/48793270820?text='+encodeURIComponent(msg);
 const mail='mailto:pconduite755@gmail.com?subject=Permis&body='+encodeURIComponent(msg);
 const w=window.open(wa,'_blank');
 setTimeout(()=>{if(!w||w.closed){window.location.href=mail}},800);
 alert('‚úîÔ∏è Formulaire envoy√© avec succ√®s');
 this.reset();
});
</script>

</body>
</html>